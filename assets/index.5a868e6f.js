var se=Object.defineProperty,ne=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var R=(e,a,n)=>a in e?se(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,E=(e,a)=>{for(var n in a||(a={}))T.call(a,n)&&R(e,n,a[n]);if(x)for(var n of x(a))z.call(a,n)&&R(e,n,a[n]);return e},O=(e,a)=>ne(e,oe(a));var N=(e,a)=>{var n={};for(var o in e)T.call(e,o)&&a.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&x)for(var o of x(e))a.indexOf(o)<0&&z.call(e,o)&&(n[o]=e[o]);return n};import{r as u,u as ie,a as re,b as le,c as ce,R as t,d as ue,e as de,C as P,H as j,T as me,f as ge,g as pe}from"./vendor.103eee46.js";const ye=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};ye();const L=(e={},a={},n={})=>Object.assign({},e,a||n),he=(e,a)=>{try{return JSON.parse(e)}catch{return a||null}},fe=e=>JSON.stringify(e),c=()=>Math.random().toString(36),Ee={stroke:"#999"},be=r=>{var l=r,{nodes:e=[],nodeTypes:a={},edges:n=[],edgeTypes:o={}}=l,i=N(l,["nodes","nodeTypes","edges","edgeTypes"]);const[d,h]=u.exports.useState(null),b=u.exports.useRef(null),[A,D,w]=ie(e),[S,g,$]=re(n),q=u.exports.useCallback((m,f)=>g(_=>le(m,f,_)),[]),G=u.exports.useCallback(m=>g(f=>ce(E({},m),f)),[]),X=u.exports.useCallback(m=>{m.preventDefault(),m.dataTransfer.dropEffect="move"},[]),Z=u.exports.useCallback(m=>{if(!b.current||!d)return;m.preventDefault();const f=b.current.getBoundingClientRect(),{nodeType:_,data:Q}=he(m.dataTransfer.getData("application/reactflow"));if(typeof _=="undefined"||!_)return;const ee=d.project({x:m.clientX-f.left,y:m.clientY-f.top}),te={id:c(),type:_,position:ee,data:Q};D(ae=>ae.concat(te))},[d]);return t.createElement(ue,E({fitView:!0,ref:b,style:{backgroundColor:"#E9E9F0"},nodes:A,edges:S,nodeTypes:a,edgeTypes:o,onNodesChange:w,onEdgesChange:$,onEdgeUpdate:q,onConnect:G,onInit:h,onDrop:Z,onDragOver:X,connectionLineStyle:Ee,defaultZoom:1.5,attributionPosition:"bottom-right"},i))},_e={},ve={};var M="https://tdyipengtan.github.io/react-storyline/assets/chat.f9a8dbec.svg",F="https://tdyipengtan.github.io/react-storyline/assets/file.cb13a62a.svg",B="https://tdyipengtan.github.io/react-storyline/assets/img.cbe67d19.svg",v="https://tdyipengtan.github.io/react-storyline/assets/user1.3b3d1d0a.png";const Ce=[{id:0,nodeType:"customAvatar",label:"Custom Avatar",data:{src:v,state:"normal"}},{id:1,nodeType:"customChannel",label:"Custom Channel",data:{type:"chat",src:M,icons:[B,F],count:36}}],xe="_sidebar_lvfbx_1",Fe="_sidebarItem_lvfbx_5";var J={sidebar:xe,sidebarItem:Fe};const ke=(e,a)=>{e.dataTransfer.setData("application/reactflow",a),e.dataTransfer.effectAllowed="move"},Ae=()=>t.createElement("ul",{className:J.sidebar},Ce.map(({id:e,nodeType:a,label:n,data:o})=>t.createElement("li",{key:e,className:J.sidebarItem,onDragStart:i=>ke(i,fe({nodeType:a,data:o})),draggable:!0},n))),De="_app_1l65k_1";var we={app:De};console.log({VITE_NODE_ENV:"stg",BASE_URL:"https://tdyipengtan.github.io/react-storyline/",MODE:"stg",DEV:!0,PROD:!1});const Se=sessionStorage.getItem("show-side-bar"),$e=o=>{var i=o,{nodeTypes:e,edgeTypes:a}=i,n=N(i,["nodeTypes","edgeTypes"]);return t.createElement(de,{className:`${we.app} app`},Se&&t.createElement(P,{flex:"300px"},t.createElement(Ae,null)),t.createElement(P,{flex:"auto"},t.createElement(be,O(E({},n),{nodeTypes:L(_e,e),edgeTypes:L(ve,a)}))))},Ne="_container_1fdyx_1",Be="_item_1fdyx_11";var H={container:Ne,item:Be};let C=[];const Ie=(e,a)=>{C.findIndex(o=>o.id===e)===-1&&C.push({id:e,fn:a})},Te=e=>{C.forEach(a=>{a.id!==e&&a.fn()})},ze=e=>{C=C.filter(a=>a.id!==e)},U=({children:e,dataWithAction:a})=>{const[n,o]=u.exports.useState(!1),i=u.exports.useRef(c()),r=u.exports.useRef(null);return u.exports.useEffect(()=>{const l=()=>{o(!1)};return Ie(i.current,l),document.addEventListener("click",l,!1),()=>{ze(i.current),document.removeEventListener("click",l)}},[]),u.exports.useEffect(()=>{r.current&&(r.current.style.zIndex=n?"9999":"0")},[n]),t.createElement(t.Fragment,null,t.createElement("div",{onContextMenu:l=>{l.preventDefault(),Te(i.current),o(!0)}},e),n&&t.createElement("ul",{className:H.container,"aria-hidden":"true",ref:l=>r.current=(l==null?void 0:l.parentElement)||r.current,onClick:l=>l.stopPropagation()},a.map(({id:l,label:d,callback:h})=>t.createElement("li",{key:l,"aria-hidden":"true",className:H.item,onClick:()=>{h&&h(l,d),o(!1)}},d))))},V={top:"50%",transform:"translate(-50%, -50%) scale(0)"},W=({isConnectable:e})=>t.createElement(t.Fragment,null,t.createElement(j,{style:V,isConnectable:e,type:"source",position:"top"}),t.createElement(j,{style:V,isConnectable:e,type:"target",position:"top"})),Re=e=>({position:"absolute",right:2,bottom:2,width:8,height:8,boxSizing:"content-box",border:"2px solid #fff",borderRadius:"50%",backgroundColor:e==="normal"?"#34C448":e==="busy"?"#E07E41":"#A4B8C3"}),Oe=({isConnectable:e,data:{src:a,state:n,name:o}})=>{const i=t.createElement("img",{style:{width:"100%",height:"100%",pointerEvents:"none"},src:a,alt:"avatar"}),r=t.createElement("span",{style:Re(n)});return t.createElement(t.Fragment,null,t.createElement(U,{dataWithAction:[{id:0,label:"\u4E2A\u4EBA\u8D44\u6599"},{id:1,label:"\u6DFB\u52A0\u8054\u7CFB\u4EBA"},{id:2,label:"\u6536\u85CF\u8054\u7CFB\u4EBA"},{id:3,label:"\u53D1\u9001Email"},{id:4,label:"\u62E8\u6253\u7535\u8BDD"}]},t.createElement(me,{placement:"top",title:`Agent\uFF1A${o}`},t.createElement("div",{style:{width:48,height:48,backgroundColor:"#fff",borderRadius:"50%"}},i,r))),t.createElement(W,{isConnectable:e}))};var Pe="https://tdyipengtan.github.io/react-storyline/assets/example-email.1a92546a.svg",je="https://tdyipengtan.github.io/react-storyline/assets/example-file.e8b9b7d2.png",Le="https://tdyipengtan.github.io/react-storyline/assets/example-table.8ef73b1b.png",k="https://tdyipengtan.github.io/react-storyline/assets/user2.8b265d07.png";const Me="_item_jz1s4_1",Je="_avatarContainer_jz1s4_7",He="_avatar_jz1s4_7",Ue="_to_jz1s4_16",Ve="_content_jz1s4_21",We="_filesContainer_jz1s4_25",Ke="_fileItem_jz1s4_31",Ye="_itemDate_jz1s4_44";var p={item:Me,avatarContainer:Je,avatar:He,to:Ue,content:Ve,filesContainer:We,fileItem:Ke,itemDate:Ye};const qe="_container_e8rmb_1",Ge="_mask_e8rmb_5",Xe="_mainContainer_e8rmb_12",Ze="_header_e8rmb_25",Qe="_titleContainer_e8rmb_32",et="_titleIcon_e8rmb_38",tt="_close_e8rmb_43",at="_body_e8rmb_50";var y={container:qe,mask:Ge,mainContainer:Xe,header:Ze,titleContainer:Qe,titleIcon:et,close:tt,body:at};const st=({visible:e,titleIcon:a,title:n,headerStyle:o,bodyStyle:i,onClose:r,children:l})=>e?ge.exports.createPortal(t.createElement("div",{className:y.container},t.createElement("div",{"aria-hidden":"true",className:y.mask,onClick:r}),t.createElement("div",{"aria-hidden":"true",className:y.mainContainer,onClick:d=>d.stopPropagation()},t.createElement("div",{className:y.header,style:o},t.createElement("div",{className:y.titleContainer},t.createElement("img",{className:y.titleIcon,src:a,alt:"title icon"}),n),t.createElement("div",{"aria-hidden":"true",className:y.close,onClick:r})),t.createElement("div",{className:y.body,style:i},l))),document.body):null,nt=({fromSrc:e,toSrc:a,content:n,filesSrc:o,date:i})=>t.createElement("div",{className:p.item},t.createElement("div",{className:p.avatarContainer},t.createElement("img",{className:p.avatar,src:e,alt:"from"}),t.createElement("span",{className:p.to},"To"),t.createElement("img",{className:p.avatar,src:a,alt:"to"})),t.createElement("div",{className:p.content},n),(o==null?void 0:o.length)&&t.createElement("ul",{className:p.filesContainer},o.map(r=>t.createElement("li",{className:p.fileItem,key:r},t.createElement("img",{src:r,alt:"file img"})))),t.createElement("div",{className:p.itemDate},i)),ot=[{fromSrc:v,toSrc:k,content:"\u4F60\u597D\uFF0C\u6211\u60F3\u67E5\u8BE2\u4E00\u4E0B\u6211\u7684\u4FDD\u9669\u7F34\u7EB3\u60C5\u51B5\u548C\u672C\u6708\u7684\u5DE5\u8D44\u660E\u7EC6\u3002\u6211\u6536\u5230\u901A\u77E5\uFF0C\u516C\u53F8\u7ED9\u6211\u7F34\u7EB3\u7684\u4FDD\u9669\u6CA1\u6709\u751F\u6548\u3002\u5E76\u4E14\u672C\u6708\u5DE5\u8D44\u7684\u660E\u7EC6\u4E5F\u51FA\u73B0\u4E86\u95EE\u9898\u3002\u9644\u4EF6\u91CC\u662F\u622A\u56FE\u548C\u660E\u7EC6\u8868\u3002",filesSrc:[Le,je],date:"2022-03-14 09:34 AM"},{fromSrc:k,toSrc:v,content:t.createElement(t.Fragment,null,"\u60A8\u597D\uFF0C\u5F88\u9AD8\u5174\u4E3A\u60A8\u670D\u52A1\u3002",t.createElement("br",null),"\u8BF7\u63D0\u4F9B\u60A8\u7684\u5458\u5DE5\u7F16\u53F7\uFF0C\u6211\u9700\u8981\u8BB0\u5F55\u4E00\u4E0B\u5E76\u5E2E\u60A8\u751F\u6210Ticket\u3002"),date:"2022-03-14 10:42 AM"},{fromSrc:v,toSrc:k,content:"\u6211\u7684\u5458\u5DE5\u7F16\u53F7\u662F002233\uFF0C\u8C22\u8C22\uFF01",date:"2022-03-14 10:45 AM"}],it=({visible:e,onClose:a})=>t.createElement(st,{visible:e,titleIcon:Pe,title:"Email",headerStyle:{color:"#5481dd"},bodyStyle:{paddingTop:48},onClose:a},ot.map(n=>{var o;return t.createElement(nt,E({key:(o=n.content)==null?void 0:o.toString()},n))})),rt="_container_ko7tk_27",lt="_email_ko7tk_53",ct="_chat_ko7tk_57",ut="_sms_ko7tk_61",dt="_call_ko7tk_65",mt="_selected_ko7tk_69",gt="_wavesBefore_ko7tk_1",pt="_wavesAfter_ko7tk_1";var I={container:rt,email:lt,chat:ct,sms:ut,call:dt,selected:mt,wavesBefore:gt,wavesAfter:pt};const yt=e=>({width:70,height:70,backgroundColor:e==="email"?"#5481DD":e==="chat"?"#648E43":e==="sms"?"#D48D2B":"#7D76E9",borderRadius:"50%"}),ht=({isConnectable:e,data:{type:a,src:n,icons:o=[],count:i=0},selected:r})=>{const[l,d]=u.exports.useState(!1),h=()=>{a==="email"&&d(!0)},b=()=>{d(!1)},A=o.map(g=>typeof g=="string"?{icon:g,style:{}}:g),D=t.createElement("img",{src:n,style:{width:"100%",height:"100%",pointerEvents:"none"},alt:`icon: ${a}`}),w=i&&t.createElement("span",{style:{position:"absolute",right:-3,top:-3,width:24,height:24,lineHeight:"24px",textAlign:"center",fontSize:"10px",fontWeight:600,color:"#fff",borderRadius:"50%",backgroundColor:"#cc5a00"}},i),S=t.createElement("ul",{style:{position:"absolute",left:"50%",bottom:-20,marginBottom:0,transform:"translate(-50%, -50%)",display:"flex",alignItems:"center"}},A.map(({icon:g,style:$})=>t.createElement("li",{style:E({width:24,height:24},$),key:g},t.createElement("img",{style:{width:"100%",height:"100%"},src:g,alt:"icon"}))));return t.createElement(t.Fragment,null,t.createElement(U,{dataWithAction:[{id:0,label:"\u67E5\u770B\u8BE6\u60C5",callback:h},{id:1,label:"\u4E0B\u8F7D\u9644\u4EF6"},{id:2,label:"\u5168\u90E8\u5F52\u6863"}]},t.createElement("div",{"aria-hidden":"true",className:[I.container,I[a],r&&I.selected].filter(Boolean).join(" "),style:yt(a),onClick:()=>h()},D,w,S)),t.createElement(it,{visible:l,onClose:b}),t.createElement(W,{isConnectable:e}))};var ft="https://tdyipengtan.github.io/react-storyline/assets/call.696ebd53.svg",K="https://tdyipengtan.github.io/react-storyline/assets/cc.5c744c56.svg",Et="https://tdyipengtan.github.io/react-storyline/assets/download.5f43d4ac.svg",Y="https://tdyipengtan.github.io/react-storyline/assets/email.22e6fd17.svg",bt="https://tdyipengtan.github.io/react-storyline/assets/link.9b0c4528.svg",_t="https://tdyipengtan.github.io/react-storyline/assets/sms.6ab41790.svg",vt="https://tdyipengtan.github.io/react-storyline/assets/user3.d1f74450.png",Ct="https://tdyipengtan.github.io/react-storyline/assets/user4.95e82d7a.png",xt="https://tdyipengtan.github.io/react-storyline/assets/user5.16ac05bb.png",Ft="https://tdyipengtan.github.io/react-storyline/assets/user6.82a5147e.png",kt="https://tdyipengtan.github.io/react-storyline/assets/user7.32844ee0.png";const s=[{width:48,height:48,id:c(),type:"customAvatar",data:{src:v,state:"normal",name:"Jona lee"},position:{x:300,y:50},positionAbsolute:{x:300,y:50},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"email",src:Y,icons:[K,{icon:B,style:{transform:"translate(0, 4px)"}},F],count:3},position:{x:383,y:129},selected:!1,dragging:!1,positionAbsolute:{x:383,y:129},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:k,state:"busy",name:"Tom"},position:{x:301,y:245},selected:!1,dragging:!1,positionAbsolute:{x:301,y:245},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"chat",src:M,icons:[B,bt],count:36},position:{x:381,y:344},selected:!1,dragging:!1,positionAbsolute:{x:381,y:344},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:vt,state:"away",name:"Anna"},position:{x:306,y:498},selected:!1,dragging:!1,positionAbsolute:{x:306,y:498},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:Ct,state:"busy",name:"July"},position:{x:491,y:498},selected:!1,dragging:!1,positionAbsolute:{x:491,y:498},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"email",src:Y,icons:[K,F],count:2},position:{x:214,y:619},selected:!1,dragging:!1,positionAbsolute:{x:214,y:619},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"sms",src:_t,icons:[F],count:5},position:{x:573,y:619},selected:!1,dragging:!1,positionAbsolute:{x:573,y:619},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:xt,state:"normal",name:"Kitty"},position:{x:147,y:760},selected:!1,dragging:!1,positionAbsolute:{x:147,y:761},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:Ft,state:"busy",name:"Sofy"},position:{x:490,y:760},selected:!1,dragging:!1,positionAbsolute:{x:490,y:760},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"call",src:ft,icons:[Et],count:3},position:{x:572,y:876},selected:!1,dragging:!1,positionAbsolute:{x:572,y:876},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:kt,state:"normal",name:"Bob"},position:{x:486,y:1026},selected:!0,dragging:!1,positionAbsolute:{x:486,y:1026},z:1e3}],At={customAvatar:Oe,customChannel:ht},Dt=[{type:"straight",id:`${s[0].id}-${s[1].id}`,source:s[0].id,target:s[1].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[1].id}-${s[2].id}`,source:s[1].id,target:s[2].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[2].id}-${s[3].id}`,source:s[2].id,target:s[3].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[3].id}-${s[4].id}`,source:s[3].id,target:s[4].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[3].id}-${s[5].id}`,source:s[3].id,target:s[5].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[4].id}-${s[6].id}`,source:s[4].id,target:s[6].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[5].id}-${s[7].id}`,source:s[5].id,target:s[7].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[6].id}-${s[8].id}`,source:s[6].id,target:s[8].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[7].id}-${s[9].id}`,source:s[7].id,target:s[9].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[9].id}-${s[10].id}`,source:s[9].id,target:s[10].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[10].id}-${s[11].id}`,source:s[10].id,target:s[11].id,style:{stroke:"#979797"}}],wt={};pe.render(t.createElement($e,{nodes:s,nodeTypes:At,edges:Dt,edgeTypes:wt,nodesDraggable:!1,nodesConnectable:!1,deleteKeyCode:null}),document.getElementById("root"));
