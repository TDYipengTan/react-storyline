var ee=Object.defineProperty,te=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var T=(e,a,n)=>a in e?ee(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,f=(e,a)=>{for(var n in a||(a={}))I.call(a,n)&&T(e,n,a[n]);if(C)for(var n of C(a))R.call(a,n)&&T(e,n,a[n]);return e},z=(e,a)=>te(e,ae(a));var N=(e,a)=>{var n={};for(var i in e)I.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&C)for(var i of C(e))a.indexOf(i)<0&&R.call(e,i)&&(n[i]=e[i]);return n};import{r as u,u as se,a as ne,b as ie,c as oe,R as t,d as re,e as le,C as ce,H as P,f as ue,g as de}from"./vendor.27612f10.js";const me=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};me();const O=(e={},a={},n={})=>Object.assign({},e,a||n),ge=(e,a)=>{try{return JSON.parse(e)}catch{return a||null}},c=()=>Math.random().toString(36),pe={stroke:"#999"},ye=r=>{var l=r,{nodes:e=[],nodeTypes:a={},edges:n=[],edgeTypes:i={}}=l,o=N(l,["nodes","nodeTypes","edges","edgeTypes"]);const[d,h]=u.exports.useState(null),b=u.exports.useRef(null),[A,D,k]=se(e),[w,g,$]=ne(n),q=u.exports.useCallback((m,E)=>g(v=>ie(m,E,v)),[]),Y=u.exports.useCallback(m=>g(E=>oe(f({},m),E)),[]),J=u.exports.useCallback(m=>{m.preventDefault(),m.dataTransfer.dropEffect="move"},[]),G=u.exports.useCallback(m=>{if(!b.current||!d)return;m.preventDefault();const E=b.current.getBoundingClientRect(),{nodeType:v,data:K}=ge(m.dataTransfer.getData("application/reactflow"));if(typeof v=="undefined"||!v)return;const X=d.project({x:m.clientX-E.left,y:m.clientY-E.top}),Z={id:c(),type:v,position:X,data:K};D(Q=>Q.concat(Z))},[d]);return t.createElement(re,f({fitView:!0,ref:b,style:{backgroundColor:"#E9E9F0"},nodes:A,edges:w,nodeTypes:a,edgeTypes:i,onNodesChange:k,onEdgesChange:$,onEdgeUpdate:q,onConnect:Y,onInit:h,onDrop:G,onDragOver:J,connectionLineStyle:pe,defaultZoom:1.5,attributionPosition:"bottom-right"},o))},he={},Ee={};var fe="https://tdyipengtan.github.io/react-storyline/assets/chat.f9a8dbec.svg",S="https://tdyipengtan.github.io/react-storyline/assets/file.cb13a62a.svg",L="https://tdyipengtan.github.io/react-storyline/assets/img.cbe67d19.svg",x="https://tdyipengtan.github.io/react-storyline/assets/user1.3b3d1d0a.png";const be="_app_1l65k_1";var ve={app:be};console.log({VITE_NODE_ENV:"stg",BASE_URL:"https://tdyipengtan.github.io/react-storyline/",MODE:"stg",DEV:!0,PROD:!1});const _e=i=>{var o=i,{nodeTypes:e,edgeTypes:a}=o,n=N(o,["nodeTypes","edgeTypes"]);return t.createElement(le,{className:`${ve.app} app`},t.createElement(ce,{flex:"auto"},t.createElement(ye,z(f({},n),{nodeTypes:O(he,e),edgeTypes:O(Ee,a)}))))},Ce="_container_a3iqb_1",xe="_item_a3iqb_10";var M={container:Ce,item:xe};let _=[];const Fe=(e,a)=>{_.findIndex(i=>i.id===e)===-1&&_.push({id:e,fn:a})},Ae=e=>{_.forEach(a=>{a.id!==e&&a.fn()})},De=e=>{_=_.filter(a=>a.id!==e)},j=({children:e,dataWithAction:a})=>{const[n,i]=u.exports.useState(!1),o=u.exports.useRef(c()),r=u.exports.useRef(null);return u.exports.useEffect(()=>{const l=()=>{i(!1)};return Fe(o.current,l),document.addEventListener("click",l,!1),()=>{De(o.current),document.removeEventListener("click",l)}},[]),u.exports.useEffect(()=>{r.current&&(r.current.style.zIndex=n?"9999":"0")},[n]),t.createElement(t.Fragment,null,t.createElement("div",{onContextMenu:l=>{l.preventDefault(),Ae(o.current),i(!0)}},e),n&&t.createElement("ul",{className:M.container,"aria-hidden":"true",ref:l=>r.current=(l==null?void 0:l.parentElement)||r.current,onClick:l=>l.stopPropagation()},a.map(({id:l,label:d,callback:h})=>t.createElement("li",{key:l,"aria-hidden":"true",className:M.item,onClick:()=>{h&&h(l,d),i(!1)}},d))))},H={top:"50%",transform:"translate(-50%, -50%) scale(0)"},U=({isConnectable:e})=>t.createElement(t.Fragment,null,t.createElement(P,{style:H,isConnectable:e,type:"source",position:"top"}),t.createElement(P,{style:H,isConnectable:e,type:"target",position:"top"})),ke=e=>({position:"absolute",right:2,bottom:2,width:8,height:8,boxSizing:"content-box",border:"2px solid #fff",borderRadius:"50%",backgroundColor:e==="normal"?"#34C448":e==="busy"?"#E07E41":"#A4B8C3"}),we=({isConnectable:e,data:{src:a,state:n}})=>{const i=t.createElement("img",{style:{width:"100%",height:"100%",pointerEvents:"none"},src:a,alt:"avatar"}),o=t.createElement("span",{style:ke(n)});return t.createElement(t.Fragment,null,t.createElement(j,{dataWithAction:[{id:0,label:"\u4E2A\u4EBA\u8D44\u6599"},{id:1,label:"\u6DFB\u52A0\u8054\u7CFB\u4EBA"},{id:2,label:"\u6536\u85CF\u8054\u7CFB\u4EBA"},{id:3,label:"\u53D1\u9001Email"},{id:4,label:"\u62E8\u6253\u7535\u8BDD"}]},t.createElement("div",{style:{width:48,height:48,backgroundColor:"#fff",borderRadius:"50%"}},i,o)),t.createElement(U,{isConnectable:e}))};var $e="https://tdyipengtan.github.io/react-storyline/assets/example-email.1a92546a.svg",Ne="https://tdyipengtan.github.io/react-storyline/assets/example-file.e8b9b7d2.png",Se="https://tdyipengtan.github.io/react-storyline/assets/example-table.8ef73b1b.png",F="https://tdyipengtan.github.io/react-storyline/assets/user2.8b265d07.png";const Be="_item_1xsd2_1",Ie="_avatarContainer_1xsd2_7",Re="_avatar_1xsd2_7",Te="_to_1xsd2_16",ze="_content_1xsd2_21",Pe="_filesContainer_1xsd2_25",Oe="_fileItem_1xsd2_30",Le="_itemDate_1xsd2_43";var p={item:Be,avatarContainer:Ie,avatar:Re,to:Te,content:ze,filesContainer:Pe,fileItem:Oe,itemDate:Le};const Me="_container_e8rmb_1",je="_mask_e8rmb_5",He="_mainContainer_e8rmb_12",Ue="_header_e8rmb_25",Ve="_titleContainer_e8rmb_32",We="_titleIcon_e8rmb_38",qe="_close_e8rmb_43",Ye="_body_e8rmb_50";var y={container:Me,mask:je,mainContainer:He,header:Ue,titleContainer:Ve,titleIcon:We,close:qe,body:Ye};const Je=({visible:e,titleIcon:a,title:n,headerStyle:i,bodyStyle:o,onClose:r,children:l})=>e?ue.exports.createPortal(t.createElement("div",{className:y.container},t.createElement("div",{"aria-hidden":"true",className:y.mask,onClick:r}),t.createElement("div",{"aria-hidden":"true",className:y.mainContainer,onClick:d=>d.stopPropagation()},t.createElement("div",{className:y.header,style:i},t.createElement("div",{className:y.titleContainer},t.createElement("img",{className:y.titleIcon,src:a,alt:"title icon"}),n),t.createElement("div",{"aria-hidden":"true",className:y.close,onClick:r})),t.createElement("div",{className:y.body,style:o},l))),document.body):null,Ge=({fromSrc:e,toSrc:a,content:n,filesSrc:i,date:o})=>t.createElement("div",{className:p.item},t.createElement("div",{className:p.avatarContainer},t.createElement("img",{className:p.avatar,src:e,alt:"from"}),t.createElement("span",{className:p.to},"To"),t.createElement("img",{className:p.avatar,src:a,alt:"to"})),t.createElement("div",{className:p.content},n),(i==null?void 0:i.length)&&t.createElement("ul",{className:p.filesContainer},i.map(r=>t.createElement("li",{className:p.fileItem,key:r},t.createElement("img",{src:r,alt:"file img"})))),t.createElement("div",{className:p.itemDate},o)),Ke=[{fromSrc:x,toSrc:F,content:"\u4F60\u597D\uFF0C\u6211\u60F3\u67E5\u8BE2\u4E00\u4E0B\u6211\u7684\u4FDD\u9669\u7F34\u7EB3\u60C5\u51B5\u548C\u672C\u6708\u7684\u5DE5\u8D44\u660E\u7EC6\u3002\u6211\u6536\u5230\u901A\u77E5\uFF0C\u516C\u53F8\u7ED9\u6211\u7F34\u7EB3\u7684\u4FDD\u9669\u6CA1\u6709\u751F\u6548\u3002\u5E76\u4E14\u672C\u6708\u5DE5\u8D44\u7684\u660E\u7EC6\u4E5F\u51FA\u73B0\u4E86\u95EE\u9898\u3002\u9644\u4EF6\u91CC\u662F\u622A\u56FE\u548C\u660E\u7EC6\u8868\u3002",filesSrc:[Se,Ne],date:"2022-03-14 09:34 AM"},{fromSrc:F,toSrc:x,content:t.createElement(t.Fragment,null,"\u60A8\u597D\uFF0C\u5F88\u9AD8\u5174\u4E3A\u60A8\u670D\u52A1\u3002",t.createElement("br",null),"\u8BF7\u63D0\u4F9B\u60A8\u7684\u5458\u5DE5\u7F16\u53F7\uFF0C\u6211\u9700\u8981\u8BB0\u5F55\u4E00\u4E0B\u5E76\u5E2E\u60A8\u751F\u6210Ticket\u3002"),date:"2022-03-14 10:42 AM"},{fromSrc:x,toSrc:F,content:"\u6211\u7684\u5458\u5DE5\u7F16\u53F7\u662F002233\uFF0C\u8C22\u8C22\uFF01",date:"2022-03-14 10:45 AM"}],Xe=({visible:e,onClose:a})=>t.createElement(Je,{visible:e,titleIcon:$e,title:"Email",headerStyle:{color:"#5481dd"},bodyStyle:{paddingTop:48},onClose:a},Ke.map(n=>{var i;return t.createElement(Ge,f({key:(i=n.content)==null?void 0:i.toString()},n))})),Ze="_container_1noyv_14",Qe="_email_1noyv_27",et="_chat_1noyv_30",tt="_sms_1noyv_33",at="_call_1noyv_36",st="_selected_1noyv_39",nt="_waves_1noyv_1";var B={container:Ze,email:Qe,chat:et,sms:tt,call:at,selected:st,waves:nt};const it=e=>({width:70,height:70,backgroundColor:e==="email"?"#5481DD":e==="chat"?"#648E43":e==="sms"?"#D48D2B":"#7D76E9",borderRadius:"50%"}),ot=({isConnectable:e,data:{type:a,src:n,icons:i=[],count:o=0},selected:r})=>{const[l,d]=u.exports.useState(!1),h=()=>{a==="email"&&d(!0)},b=()=>{d(!1)},A=i.map(g=>typeof g=="string"?{icon:g,style:{}}:g),D=t.createElement("img",{src:n,style:{width:"100%",height:"100%",pointerEvents:"none"},alt:`icon: ${a}`}),k=o&&t.createElement("span",{style:{position:"absolute",right:-3,top:-3,width:24,height:24,lineHeight:"24px",textAlign:"center",fontSize:"10px",fontWeight:600,color:"#fff",borderRadius:"50%",backgroundColor:"#cc5a00"}},o),w=t.createElement("ul",{style:{position:"absolute",left:"50%",bottom:-36,transform:"translate(-50%, -50%)",display:"flex",alignItems:"center"}},A.map(({icon:g,style:$})=>t.createElement("li",{style:f({width:24,height:24},$),key:g},t.createElement("img",{style:{width:"100%",height:"100%"},src:g,alt:"icon"}))));return t.createElement(t.Fragment,null,t.createElement(j,{dataWithAction:[{id:0,label:"\u67E5\u770B\u8BE6\u60C5",callback:h},{id:1,label:"\u4E0B\u8F7D\u9644\u4EF6"},{id:2,label:"\u5168\u90E8\u5F52\u6863"}]},t.createElement("div",{"aria-hidden":"true",className:[B.container,B[a],r&&B.selected].filter(Boolean).join(" "),style:it(a),onClick:()=>h()},D,k,w)),t.createElement(Xe,{visible:l,onClose:b}),t.createElement(U,{isConnectable:e}))};var rt="https://tdyipengtan.github.io/react-storyline/assets/call.696ebd53.svg",V="https://tdyipengtan.github.io/react-storyline/assets/cc.5c744c56.svg",lt="https://tdyipengtan.github.io/react-storyline/assets/download.5f43d4ac.svg",W="https://tdyipengtan.github.io/react-storyline/assets/email.22e6fd17.svg",ct="https://tdyipengtan.github.io/react-storyline/assets/link.9b0c4528.svg",ut="https://tdyipengtan.github.io/react-storyline/assets/sms.6ab41790.svg",dt="https://tdyipengtan.github.io/react-storyline/assets/user3.d1f74450.png",mt="https://tdyipengtan.github.io/react-storyline/assets/user4.95e82d7a.png",gt="https://tdyipengtan.github.io/react-storyline/assets/user5.16ac05bb.png",pt="https://tdyipengtan.github.io/react-storyline/assets/user6.82a5147e.png",yt="https://tdyipengtan.github.io/react-storyline/assets/user7.32844ee0.png";const s=[{width:48,height:48,id:c(),type:"customAvatar",data:{src:x,state:"normal"},position:{x:300,y:50},positionAbsolute:{x:300,y:50},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"email",src:W,icons:[V,{icon:L,style:{transform:"translate(0, 4px)"}},S],count:3},position:{x:383,y:129},selected:!1,dragging:!1,positionAbsolute:{x:383,y:129},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:F,state:"busy"},position:{x:301,y:245},selected:!1,dragging:!1,positionAbsolute:{x:301,y:245},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"chat",src:fe,icons:[L,ct],count:36},position:{x:381,y:344},selected:!1,dragging:!1,positionAbsolute:{x:381,y:344},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:dt,state:"away"},position:{x:306,y:498},selected:!1,dragging:!1,positionAbsolute:{x:306,y:498},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:mt,state:"busy"},position:{x:491,y:498},selected:!1,dragging:!1,positionAbsolute:{x:491,y:498},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"email",src:W,icons:[V,S],count:2},position:{x:214,y:619},selected:!1,dragging:!1,positionAbsolute:{x:214,y:619},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"sms",src:ut,icons:[S],count:5},position:{x:573,y:619},selected:!1,dragging:!1,positionAbsolute:{x:573,y:619},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:gt,state:"normal"},position:{x:147,y:760},selected:!1,dragging:!1,positionAbsolute:{x:147,y:761},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:pt,state:"busy"},position:{x:490,y:760},selected:!1,dragging:!1,positionAbsolute:{x:490,y:760},z:0},{width:70,height:70,id:c(),type:"customChannel",data:{type:"call",src:rt,icons:[lt],count:3},position:{x:572,y:876},selected:!1,dragging:!1,positionAbsolute:{x:572,y:876},z:0},{width:48,height:48,id:c(),type:"customAvatar",data:{src:yt,state:"normal"},position:{x:486,y:1026},selected:!0,dragging:!1,positionAbsolute:{x:486,y:1026},z:1e3}],ht={customAvatar:we,customChannel:ot},Et=[{type:"straight",id:`${s[0].id}-${s[1].id}`,source:s[0].id,target:s[1].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[1].id}-${s[2].id}`,source:s[1].id,target:s[2].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[2].id}-${s[3].id}`,source:s[2].id,target:s[3].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[3].id}-${s[4].id}`,source:s[3].id,target:s[4].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[3].id}-${s[5].id}`,source:s[3].id,target:s[5].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[4].id}-${s[6].id}`,source:s[4].id,target:s[6].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[5].id}-${s[7].id}`,source:s[5].id,target:s[7].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[6].id}-${s[8].id}`,source:s[6].id,target:s[8].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[7].id}-${s[9].id}`,source:s[7].id,target:s[9].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[9].id}-${s[10].id}`,source:s[9].id,target:s[10].id,style:{stroke:"#979797"}},{type:"straight",id:`${s[10].id}-${s[11].id}`,source:s[10].id,target:s[11].id,style:{stroke:"#979797"}}],ft={};de.render(t.createElement(_e,{nodes:s,nodeTypes:ht,edges:Et,edgeTypes:ft,nodesDraggable:!1,nodesConnectable:!1}),document.getElementById("root"));
