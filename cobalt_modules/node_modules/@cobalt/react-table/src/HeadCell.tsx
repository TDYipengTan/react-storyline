import React, { FC, HTMLAttributes, Ref } from "react";
import cc from "classcat";
import styles from "@cobalt/css-table";
import { getCellWidth } from "./Cell";
import { Width } from "./types";

export type HeadCellType = HTMLTableHeaderCellElement;

export interface Props extends HTMLAttributes<HeadCellType> {
  as?: "th" | "div";
  /**
   * Defines the percentage of the width the cell should take.
   * Use values from 5 to 100, in multiples of 5.
   * 33 and 66 are also possible values.
   * To have the cell occupy the minimum space needed, use "min".
   */
  width?: Width;
  forwardedRef?: Ref<HeadCellType>;
}

const HeadCell: FC<Props> = ({
  className = "",
  forwardedRef,
  as = "th",
  width,
  ...props
}) => {
  const classes = cc([
    styles["co-table__cell"],
    getCellWidth(width),
    className
  ]);

  const Tag = as;

  return <Tag className={classes} ref={forwardedRef} {...props} />;
};

export default HeadCell;
