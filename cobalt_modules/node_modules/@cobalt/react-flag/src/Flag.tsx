import React, { FunctionComponent, HTMLAttributes, Ref } from "react";
import cc from "classcat";
import styles from "@cobalt/css-flag";
import { Code } from "./codes";

type Size = "tiny" | "small" | "medium" | "large" | "xlarge";
type Styles = typeof styles;

export type FlagType = HTMLElement;

export interface Props extends HTMLAttributes<FlagType> {
  code: Code;
  size?: Size;
  forwardedRef?: Ref<FlagType>;
}

const Flag: FunctionComponent<Props> = ({
  className = "",
  forwardedRef,
  code,
  size = "small",
  ...props
}) => {
  const classNames = cc([
    styles["co-flag"],
    styles[`co-flag--${code}` as keyof Styles],
    styles[`co-flag--${size}` as keyof Styles],
    className
  ]);

  return <i ref={forwardedRef} className={classNames} {...props} />;
};

export default Flag;
