import React, { createRef, useEffect } from "react";
import "./styles.scss";

const noop = () => {};

export const usage = () => {
  return (
    <>
      <label>
        <input className="co-checkbox" type="checkbox" onChange={noop} />
      </label>
      <label>
        <input
          className="co-checkbox"
          type="checkbox"
          checked
          onChange={noop}
        />
      </label>
      <label>
        <input
          className="co-checkbox"
          type="checkbox"
          disabled
          onChange={noop}
        />
      </label>
      <label>
        <input
          className="co-checkbox"
          type="checkbox"
          disabled
          checked
          onChange={noop}
        />
      </label>
    </>
  );
};

const Indeterminate = () => {
  const checkedRef = createRef();
  const disabledRef = createRef();

  useEffect(() => {
    if (checkedRef !== null) checkedRef.current.indeterminate = true;
    if (disabledRef !== null) disabledRef.current.indeterminate = true;
  }, [checkedRef, disabledRef]);

  return (
    <>
      <label>
        <input
          ref={checkedRef}
          className="co-checkbox"
          type="checkbox"
          checked
          onChange={noop}
        />
      </label>
      <label>
        <input
          ref={disabledRef}
          className="co-checkbox"
          type="checkbox"
          disabled
          onChange={noop}
        />
      </label>
    </>
  );
};

export const indeterminate = () => {
  return <Indeterminate />;
};

export default { title: "Checkbox" };
