import React, { FunctionComponent, InputHTMLAttributes, Ref } from "react";
import cc from "classcat";
import checkboxStyles from "@cobalt/css-checkbox";
import { InputType } from "./InputTypes";

type InputAttributes = Omit<InputHTMLAttributes<InputType>, "defaultChecked">;

export interface Props extends InputAttributes {
  forwardedRef?: Ref<InputType>;
}

const Checkbox: FunctionComponent<Props> = ({
  className = "",
  forwardedRef,
  checked,
  ...props
}) => {
  const classStyles = cc({
    [checkboxStyles["co-checkbox"]]: true,
    [className]: !!className
  });

  return (
    <input
      type="checkbox"
      className={classStyles}
      ref={forwardedRef}
      checked={!!checked}
      {...props}
    />
  );
};

export default Checkbox;
